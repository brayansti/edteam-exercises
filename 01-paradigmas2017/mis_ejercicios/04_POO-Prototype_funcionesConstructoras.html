<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>POO con Prototype</title>
</head>
<body>
    
</body>

<script>
((c)=>{
    // Solo se inicializan los atributos del objeto
    function carrito(articulo) {
        this._articulo = articulo,
        this._carrito = {}
        // Se pueden agregar metodos de â†“â†“â†“â†“â†“â†“ esta manera â†“â†“â†“â†“â†“â†“ pero NO es obtimo en memoria, es mejor usar PROTOTYPE

                // this.agregar = function(articulo , cantidad){
                //     this._carrito[articulo] = cantidad
                // }

        // Se pueden agregar metodos de â†‘â†‘â†‘â†‘â†‘â†‘ esta manera â†‘â†‘â†‘â†‘â†‘â†‘ pero NO es obtimo en memoria, es mejor usar PROTOTYPE
    }

    // Prototipe evita tener que generar metodos repetidamente cada vez que se instancia un objeto
    carrito.prototype = {
        agregar: function (articulo , cantidad)  {
            this._carrito[articulo] = cantidad
        },
        quitar: function (articulo)  {
            delete this._carrito[articulo]
        },
        ver: function ()  {
            return this._carrito
        }
    }
    const televisores = new carrito('televisores')

    televisores.agregar('LG' , 4)
    televisores.agregar('Panasonic', 5)
    c( televisores.ver() )
    televisores.quitar('LG')
    c( televisores.ver() )

    // END EJEMPLO
    // END EJEMPLO
    // END EJEMPLO
    // END EJEMPLO

    // Ejemplo metodos metodos autoretornados para poder ðŸ‘‰ concatenar metodos ðŸ‘ˆ
    c('///////////////////////////////////////')
    
    function Poquemon(name){
        function caminar(){
            console.log(`${name} estÃ¡ caminando.`)
            return this
        }
        function ladrar(){
            console.log(`${name} ladrando`)
            return this
        }
        function morder(){
            console.log(`${name} mordiendo`)
            return this
        }

        // ðŸ‘‰ðŸ‘‰ 'this' dentro de Arrow funtion hace referencia a la clase (Poquemon), mas no a su instancia.
        let arrowMet = () => {
            console.log(`${name} arrowMet`)
            return this
        }
        
        return{
            caminar: caminar,
            ladrar: ladrar,
            morder: morder,
            arrowMet: arrowMet,
        }
    }
    let pica = new Poquemon('picachu')
    // ðŸ‘‡ Concatenando metodos ðŸ‘‡
    pica.morder().ladrar().caminar().morder()

    // ðŸ‘‰ðŸ‘‰ 'this' de una arrow funtion hace referencia a la clase (Poquemon) por eso no se puede rerornar, y lo siguente da error:
    // pica.morder().ladrar().arrowMet().caminar()


})(console.log)



</script>
</html>